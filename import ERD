-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public."Customers"
(
    "customers id" integer NOT NULL,
    "customers name" text COLLATE pg_catalog."default",
    domain text COLLATE pg_catalog."default",
    "product id" integer,
    CONSTRAINT "Customers_pkey" PRIMARY KEY ("customers id")
);

CREATE TABLE IF NOT EXISTS public."Teams"
(
    "team id" integer NOT NULL,
    "team name" text COLLATE pg_catalog."default",
    "workers id" integer,
    "customers id" integer,
    CONSTRAINT "Teams_pkey" PRIMARY KEY ("team id")
);

CREATE TABLE IF NOT EXISTS public."Workers"
(
    "workers id" integer NOT NULL,
    "full name" text COLLATE pg_catalog."default",
    gender text COLLATE pg_catalog."default",
    title text COLLATE pg_catalog."default",
    team_id integer,
    CONSTRAINT "Workers_pkey" PRIMARY KEY ("workers id")
);

CREATE TABLE IF NOT EXISTS public.product
(
    "product id" integer NOT NULL,
    "product name" text COLLATE pg_catalog."default",
    "team id" integer,
    CONSTRAINT product_pkey PRIMARY KEY ("product id")
);

ALTER TABLE IF EXISTS public."Customers"
    ADD FOREIGN KEY ("product id")
    REFERENCES public.product ("product id") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Teams"
    ADD FOREIGN KEY ("customers id")
    REFERENCES public."Customers" ("customers id") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Workers"
    ADD FOREIGN KEY (team_id)
    REFERENCES public."Teams" ("team id") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public.product
    ADD FOREIGN KEY ("team id")
    REFERENCES public."Teams" ("team id") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

END;
